# Приложение для управления партнерами и продажами

Данное приложение предназначено для управления данными о партнерах, их продажами, расчетами необходимых материалов для производства и тестированием различных сценариев. Система включает интерфейс для работы с партнерами, базу данных для хранения информации, библиотеку для расчетов и диаграммы для наглядного представления взаимодействий.

## Содержание

- [Описание базы данных](#описание-базы-данных)
- [Описание приложения](#описание-приложения)
- [Тестирование](#тестирование)
- [Диаграммы](#диаграммы)

---

## Описание базы данных

### 1.1 Импорт данных и структура базы данных

В основе приложения лежит база данных **43P_Kasatkina_UP**, разработанная в PostgreSQL. База данных используется для хранения данных о партнерах, материалах, продукции и продажах. Импорт данных из Excel.

#### Структура базы данных

База данных включает следующие таблицы:

- **Таблица материалов** — хранит информацию о типах материалов и их проценте брака.
- **Таблица типов партнёров** — содержит данные о различных организационно-правовых формах партнёров (ООО, ЗАО и другие).
- **Таблица типов продукции** — описывает категории продукции и коэффициенты для расчетов.
- **Таблица продукции** — хранит информацию о товарах, их артикулах, наименованиях, ценах и размерах.
- **Таблица партнёров** — содержит данные о компаниях-партнерах, их юридических адресах, руководителях, контактных данных и рейтинге.
- **Таблица продаж** — фиксирует информацию о продажах товаров партнерам (артикулы, количество, дата продажи).

#### ER Диаграмма

## Описание приложения

### 1.2 AvaloniaUI Приложение

Приложение **Мастер Пол** разработано с использованием **AvaloniaUI**, что позволяет обеспечить кросс-платформенность для работы с партнерами. Приложение использует **MVVM-подход**, обеспечивающий четкое разделение логики и интерфейса.

### Основные функции приложения:
1. **Просмотр списка партнёров** — отображение основных данных о партнёрах, таких как название, тип, директор, телефон, рейтинг, скидка.
2. **Добавление и редактирование партнёров** — возможность добавлять новые записи или изменять существующие данные о партнерах.
3. **Просмотр истории продаж** — отображение информации о товарах, приобретённых каждым партнёром, с указанием количества и даты покупки.
4. **Навигация между экранами** — кнопки для перехода между экранами: список партнёров, редактирование партнёра и история продаж.

### Экран "Просмотр списка партнёров"

Страница **Show** отображает список партнёров компании и позволяет добавлять, редактировать или просматривать их историю продаж.

#### Структура и элементы интерфейса
- **Заголовок**: Текст "Мастер Пол" в центре экрана.
- **Кнопка "Добавить"**: Переход к форме создания нового партнера.
- **Список партнёров**: Представлен в виде `ListBox`, включающий информацию о типе партнера, названии организации, фамилии директора, контактном телефоне, рейтинге и размере скидки.
- **Кнопка "Перейти к продажам"**: Переход на страницу истории продаж для каждого партнера.

### Экран "Добавление/Редактирование партнёра"

Страница **Add** предназначена для добавления нового партнера или редактирования данных существующего.

#### Структура интерфейса:
- **Заголовок**: "Редактировать/Добавить".
- **Текстовые поля** для ввода данных партнёра (наименование, тип, рейтинг, адрес, ФИО директора, телефон, email).
- **Кнопки**:
  - **"Сохранить"** — отправляет введенные данные в базу данных.
  - **"Назад"** — возвращает пользователя к списку партнёров.

### История продаж

Страница **Sale_history** отображает историю продаж для конкретного партнёра, показывая товары, их количество и даты продажи.

#### Структура интерфейса:
- **Заголовок**: Название страницы.
- **Кнопка "Назад"**: Переход обратно к списку партнёров.
- **Список продаж**: Отображает товары, количество и даты продаж для выбранного партнёра.

---

## Тестирование

### 1.3 Библиотека MaterialCalculator

Библиотека предназначена для расчета необходимого количества материала для производства продукции, учитывая процент брака материала и коэффициенты расхода для разных типов продукции.

#### Дополнительные сценарии:
- **Сохранение партнёра с валидными значениями**: Проверка сохранения данных партнёра при корректном вводе.
- **Отмена редактирования партнёра**: Проверка, что данные партнёра не сохраняются при отмене редактирования.
- **Некорректный email партнёра**: Проверка, что система позволяет сохранить партнера с некорректным email.
- **Обязательные поля**: Проверка, что обязательные поля не могут быть пустыми.

---

## Диаграммы

#### Диаграмма использования
Эта диаграмма показывает основные сценарии взаимодействия пользователей с системой. Включает действия клиентов, тренеров и администраторов, такие как регистрация, выбор тренера, подача и принятие заявок, создание планов тренировок и предоставление скидок.

#### Диаграмма деятельности
Диаграмма описывает последовательность действий в процессе планирования и выполнения тренировок. Включает шаги от подачи заявки клиентом до контроля выполнения упражнений тренером.

---
